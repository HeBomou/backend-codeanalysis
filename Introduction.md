# 整体介绍

## 首先是技术栈

首先我们项目是前后端分离项目，前后端可以同时开发，节约时间降低耦合  
前端使用Vue.js框架，使用Vuex做状态管理，Vue Router管理路由，使用了Vuetify组件库和mdi图表字体库做界面美化，Axios做HTTP工具库，Cytoscape做依赖图的显示，highlight.js做代码高亮显示，最后构建Docker镜像来容器化部署  
后端使用SpringBoot框架，jpa做数据访问层，使用vividsolutions的jts的解析几何框架用来处理点初始位置生成，MockMvc做集成测试，Mockito做单元测试，jacoco框架用于评估测试覆盖率，最后构建Docker镜像容器化部署  
前后端交互上我们选择了RESTful作为接口的风格
持续集成我们使用Jenkins框架中的流水线，因为前后端使用Docker部署，所以非常方便  

## 然后到架构与模块设计

整体上是经典的三层架构，分为视图层、逻辑层和数据层

前端有四层，前三层是基于Vue的MVVM架构，第四层是api层  
关于MVVM架构，简单的说就是页面保有数据并把这个数据跟视图绑定，修改数据就能更新视图  
api层，我们基于axios把前后端接口封装成单独的api层，页面可以直接调用，不需要接触HTTP请求不易出错，同时也方便前后端接口变动时的管理  

后端三层，Controller、Service和Data  
Controller层封装RESTful的HTTP接口，Service层负责业务逻辑，Data层使用jpa框架负责数据持久化  

## 接下来是软件测试

集成测试上，我们选择的MockMvc框架能让我们把含有HTTP请求的测试写在代码里，就不需要使用Postman手动发送请求，并且因为在maven环境下进行，就可以使用jacoco等测试评估框架对集成测试进行评估  
单元测试上，我们选择的Mockito框架能够快速对无关模块打桩，提高开发效率  
测试评估上，我们选择jacoco框架在测试的同时自动生成评估报告，包括代码覆盖率等信息，为我们合理的修改与新增测试用例提供依据  

## 提一下版本控制

用了git，我们参考angular团队的commit规范，并在开发过程中基本贯彻落实  

## 还有部署和持续集成

首先前后端分离开发，分离部署，可以部署在不同的服务器上，并且如果用nginx做负载均衡的话我们部署多个前端和后端，也就是集群  
前后端都是通过构建Docker镜像以容器的形式部署  
持续集成我们用了Jenkins框架，与Docker结合使用非常的方便  

## 最后是一些实现细节

第一，在前端中，我们把Cytoscape的函数依赖图封装成符合Vue.js标准的响应式模块化组件，暴露简单易用的接口，另一个组员就直接拿来用，并行开发，提高效率  

第二，在前端中，我们的文本框输入都实现了自动补齐，可以根据用户当前输入自动推断可能的结果  

第三，在后端中，除了路径搜索使用爆搜之外，其他逻辑都保证时间复杂度在nlog(n)之内，例如根据紧密度阈值生成子图联通域的复杂度是O(n)，项目源码的分析复杂度是O(nlog(n))  

第四，后端，具有多线程支持，因为在载入一个项目时需要下载源码花费较多时间，我们直接分配一个线程让他异步载入，避免阻塞整个后端；类似的情况还有删除整个项目等，我们都做了异步处理  

第五，后端，统一异常处理，我们使用了SpringBoot的异常处理机制，自定义并封装了异常返回，后端运行过程中可以通过异常处理向前端传递错误信息  

第六，后端，对于点的初始位置生成，我们做了优化。在同一个联通域内，我们基于求强联通分量的Tarjan算法设计了一个改良布局算法，他能保证在有环的情况下也能让排列中边的方向都尽可能的相同；在全局上，使用了jts解析几何库让所有联通域都按照环形围绕排列  
